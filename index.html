<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>IASA 10ê¸° ì¶œì²µ & ì¼ì •</title>
    
    <!-- PWA ë©”íƒ€ íƒœê·¸ -->
    <meta name="theme-color" content="#4A90E2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#4A90E2">
    <meta name="apple-mobile-web-app-title" content="IASA ì¶œì²µ">
    <link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==">
    <link rel="manifest" href="#" id="manifest-placeholder">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #f5f7fa;
            height: 100vh;
            overflow: hidden;
            touch-action: manipulation;
        }

        /* ë©”ì¸ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
        .main-tabs {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: white;
            display: flex;
            z-index: 3000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .main-tab-btn {
            flex: 1;
            padding: 16px;
            border: none;
            background: #f8f9fa;
            color: #666;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .main-tab-btn.active {
            background: white;
            color: #4A90E2;
            border-bottom: 3px solid #4A90E2;
        }

        .main-tab-btn:active {
            transform: scale(0.98);
        }

        .main-tab-content {
            display: none;
            height: calc(100vh - 35px); /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜(56px) + í‘¸í„°(ì•½ 16px)ë¥¼ ìœ„í•´ ì¡°ê¸ˆ ë” í™•ë³´ */
            padding-top: 56px; /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì•„ë˜ì—ì„œ ì‹œì‘ */
            padding-bottom: 10px; /* í‘¸í„°ì— ê°€ë ¤ì§€ì§€ ì•Šë„ë¡ í•˜ë‹¨ íŒ¨ë”© ì¶”ê°€ */
            overflow-y: auto; /* ë‚´ìš©ì´ ë„˜ì¹  ê²½ìš° ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ */
        }

        .main-tab-content.active {
            display: block;
        }

        /* ============ ì¶œì„ì²´í¬ ìŠ¤íƒ€ì¼ ============ */
        .attendance-page {
            height: 100%;
            overflow: hidden;
        }

        .header {
            position: fixed;
            top: 56px;
            left: 0;
            right: 0;
            background: white;
            padding: 8px 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }

        .header-left {
            flex: 1;
        }

        .header-title {
            font-size: 14px;
            font-weight: bold;
            color: #4A90E2;
        }

        .header-center {
            flex: 1;
            text-align: center;
        }

        .class-badge {
            display: inline-block;
            color: #4A90E2;
            font-size: 24px;
            font-weight: bold;
        }

        .header-right {
            flex: 1;
            display: flex;
            justify-content: flex-end;
        }

        .header-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .control-btn {
            width: 32px;
            height: 32px;
            border: none;
            border-radius: 8px;
            background: #4A90E2;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .control-btn:active {
            transform: scale(0.95);
            background: #357ABD;
        }

        .settings-btn {
            font-size: 18px;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 110px);
            padding: 12px;
            padding-top: 54px;
            gap: 12px;
        }

        .section {
            padding: 16px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background: white;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .section.unconfirmed {
            flex: 0 0 auto;  /* ë‚´ìš©ì— ë§ê²Œ ìë™ ì¡°ì ˆ */
            max-height: 70vh; /* ìµœëŒ€ ë†’ì´ ì œí•œ */
        }

        .section.confirmed {
            flex: 1;    /* ë‚¨ì€ ê³µê°„ ì°¨ì§€ */
        }

        .section-header {
            background: #f8f9fa;
            padding: 10px 12px;
            border-radius: 12px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            position: relative;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .section-title {
            font-weight: bold;
            font-size: 14px;
            position: absolute;
            left: 16px;
        }

        .unconfirmed .section-title {
            color: #000000;
        }

        .confirmed .section-title {
            color: #51CF66;
        }

        .count {
            background: #4A90E2;
            color: white;
            padding: 4px 16px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(74, 144, 226, 0.3);
            margin: 0 auto;
        }

        .cards-container {
            display: grid;
            gap: 8px;
            padding: 4px;
        }

        /* ë¯¸í™•ì¸ ì˜ì—­ ì¹´ë“œ: 4ì—´ ê³ ì • */
        .unconfirmed .cards-container {
            grid-template-columns: repeat(4, 1fr);
        }

        /* í™•ì¸ ì˜ì—­ ì¹´ë“œ: 5ì—´ ê³ ì •, ë” ì‘ê²Œ */
        .confirmed .cards-container {
            grid-template-columns: repeat(5, 1fr);
            gap: 6px;
        }

        :root {
            --card-size: 60px;
            --font-size: 15px;
        }

        .student-card {
            background: white;
            border-radius: 12px;
            padding: 6px 4px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            font-size: var(--font-size);
            font-weight: 600;
            position: relative;
            overflow: hidden;
            min-height: var(--card-size);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1.5px solid #f0f0f0;
            line-height: 1.3;
            word-break: keep-all;
        }

        .student-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .student-card.male::before {
            background: #4A90E2;
        }

        .student-card.female::before {
            background: #FF5252;
        }

        .student-card.male {
            color: #4A90E2;
            border-color: #E3F2FD;
        }

        .student-card.female {
            color: #FF5252;
            border-color: #FFEBEE;
        }

        .student-card:active {
            transform: scale(0.95);
        }

        .confirmed .student-card {
            opacity: 0.6;
            font-size: calc(var(--font-size) - 3px);
            min-height: calc(var(--card-size) - 15px);
            padding: 4px 2px;
        }

        /* ì„¤ì • ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 24px;
            width: 90%;
            max-width: 400px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #4A90E2;
        }

        .class-option {
            background: #f8f9fa;
            padding: 16px;
            margin-bottom: 10px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            border: 2px solid transparent;
        }

        .class-option:hover {
            background: #e9ecef;
        }

        .class-option.selected {
            background: #E3F2FD;
            border-color: #4A90E2;
            color: #4A90E2;
        }

        .celebration {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .celebration.active {
            display: flex;
        }

        .celebration-content {
            text-align: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -10px;
            animation: fall 3s linear forwards;
            z-index: 3001;
        }

        @keyframes fall {
            to {
                top: 100vh;
                transform: translateX(100px) rotate(720deg);
            }
        }

        .firework {
            position: absolute;
            font-size: 30px;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            from {
                transform: scale(0);
                opacity: 1;
            }
            to {
                transform: scale(2);
                opacity: 0;
            }
        }

        /* ============ ì¼ì •í‘œ ìŠ¤íƒ€ì¼ ============ */
        .schedule-page {
            height: 100%;
            overflow: hidden;
            background-color: #f4f4f4;
        }

        .schedule-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            height: calc(100vh - 56px);
            display: flex;
            flex-direction: column;
        }

        .schedule-header {
            background-color: #004d99;
            color: white;
            padding: 15px 10px;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
        }

        .tab-nav {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            background-color: #e9e9e9;
            border-bottom: 2px solid #ccc;
            padding: 0 5px;
            flex-shrink: 0;
        }

        .tab-button {
            flex: 0 0 auto;
            background-color: transparent;
            border: none;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: 600;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
            border-bottom: 3px solid transparent;
            margin: 0 2px;
            line-height: 1.2;
        }

        .tab-button.active {
            background-color: #fff;
            color: #004d99;
            border-bottom: 3px solid #004d99;
        }

        .tab-content {
            padding: 15px;
            overflow-y: auto;
            flex: 1;
        }

        .schedule-day {
            display: none;
        }

        .schedule-day.active {
            display: block;
        }

        .schedule-item {
            display: flex;
            border-bottom: 1px solid #eee;
            padding: 10px 0;
            align-items: flex-start;
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .time {
            flex: 0 0 65px;
            font-weight: bold;
            color: #555;
            padding-right: 10px;
            font-size: 0.9em;
        }

        .details {
            flex-grow: 1;
            font-size: 0.9em;
        }

        .details strong {
            color: #004d99;
        }

        .city {
            font-size: 1.1em;
            font-weight: bold;
            color: #004d99;
            margin-bottom: 8px;
            padding-top: 5px;
            border-top: 1px dashed #ccc;
        }

        .city:first-child {
            border-top: none;
        }

        .transport {
            font-style: italic;
            color: #888;
            font-size: 0.8em;
            margin-top: 3px;
        }

        /* í‘¸í„° ìŠ¤íƒ€ì¼ ì¶”ê°€ */
#main-footer {
    position: fixed; /* í™”ë©´ í•˜ë‹¨ì— ê³ ì • */
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center; /* ê°€ìš´ë° ì •ë ¬ */
    padding: 8px;
    background: #ffffff; /* í°ìƒ‰ ë°°ê²½ (íƒ­ ì»¨í…ì¸ ì™€ êµ¬ë¶„) */
    color: #4A90E2; /* ê¸€ììƒ‰ì€ ê°•ì¡°ìƒ‰ ì‚¬ìš© */
    font-size: 12px; /* ì‘ì€ í¬ê¸° */
    z-index: 4000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œ */
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.05); /* ìƒë‹¨ì— ê·¸ë¦¼ì */
}
        
    </style>
</head>
<body>

<!-- ë©”ì¸ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
<div class="main-tabs">
    <button class="main-tab-btn active" onclick="switchMainTab('attendance')">ì¶œì„ì²´í¬</button>
    <button class="main-tab-btn" onclick="switchMainTab('schedule')">ì¼ì •í‘œ</button>
</div>

<!-- ì¶œì„ì²´í¬ í˜ì´ì§€ -->
<div id="attendance" class="main-tab-content active">
    <div class="attendance-page">
        <div class="header">
            <div class="header-left">
                <div class="header-title">ì¶œì„ ì²´í¬</div>
            </div>
            <div class="header-center">
                <div class="class-badge"><span id="current-class-display">1</span>ë°˜</div>
            </div>
            <div class="header-right">
                <div class="header-controls">
                    <button class="control-btn" onclick="decreaseCardSize()" title="ì¹´ë“œ í¬ê¸° ì¤„ì´ê¸°">-</button>
                    <button class="control-btn" onclick="increaseCardSize()" title="ì¹´ë“œ í¬ê¸° í‚¤ìš°ê¸°">+</button>
                    <button class="control-btn settings-btn" onclick="openSettings()" title="ë°˜ ì„ íƒ">âš™</button>
                    <button class="control-btn" onclick="resetAttendance()" title="ì´ˆê¸°í™”">â†»</button>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="section unconfirmed">
                <div class="section-header">
                    <span class="section-title">ë¯¸í™•ì¸</span>
                    <span class="count" id="unconfirmed-count">0</span>
                </div>
                <div class="cards-container" id="unconfirmed-container"></div>
            </div>

            <div class="section confirmed">
                <div class="section-header">
                    <span class="section-title">í™•ì¸</span>
                    <span class="count" id="confirmed-count-display">0</span>
                </div>
                <div class="cards-container" id="confirmed-container"></div>
            </div>
        </div>

        <!-- ì„¤ì • ëª¨ë‹¬ -->
        <div id="settings-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">ë°˜ ì„ íƒ</div>
                <div class="class-option" onclick="selectAndApplyClass(1)">1ë°˜</div>
                <div class="class-option" onclick="selectAndApplyClass(2)">2ë°˜</div>
                <div class="class-option" onclick="selectAndApplyClass(3)">3ë°˜</div>
                <div class="class-option" onclick="selectAndApplyClass(4)">4ë°˜</div>
                <div class="class-option" onclick="selectAndApplyClass(5)">5ë°˜</div>
            </div>
        </div>

        <!-- ì¶•í•˜ ì• ë‹ˆë©”ì´ì…˜ -->
        <div id="celebration" class="celebration" onclick="closeCelebration()">
            <div class="celebration-content">
                ğŸ‰ ì¶œì„ ì™„ë£Œ! ğŸ‰
            </div>
        </div>
    </div>
</div>

<!-- ì¼ì •í‘œ í˜ì´ì§€ -->
<div id="schedule" class="main-tab-content">
    <div class="schedule-page">
        <div class="schedule-container">
            <div class="schedule-header">í•´ì™¸íƒë°© ì¼ì •</div>

            <div class="tab-nav">
                <button class="tab-button" data-day-id="day1" onclick="openDay(event, 'day1')">1ì¼ì°¨<br>10/25(í† )</button>
                <button class="tab-button" data-day-id="day2" onclick="openDay(event, 'day2')">2ì¼ì°¨<br>10/26(ì¼)</button>
                <button class="tab-button" data-day-id="day3" onclick="openDay(event, 'day3')">3ì¼ì°¨<br>10/27(ì›”)</button>
                <button class="tab-button" data-day-id="day4" onclick="openDay(event, 'day4')">4ì¼ì°¨<br>10/28(í™”)</button>
                <button class="tab-button" data-day-id="day5" onclick="openDay(event, 'day5')">5ì¼ì°¨<br>10/29(ìˆ˜)</button>
                <button class="tab-button" data-day-id="day6" onclick="openDay(event, 'day6')">6ì¼ì°¨<br>10/30(ëª©)</button>
                <button class="tab-button" data-day-id="day7" onclick="openDay(event, 'day7')">7ì¼ì°¨<br>10/31(ê¸ˆ)</button>
                <button class="tab-button" data-day-id="day8_9" onclick="openDay(event, 'day8_9')">8~9ì¼ì°¨<br>11/1(í† )~11/2(ì¼)</button>
            </div>

            <div class="tab-content">
                <div id="day1" class="schedule-day">
                    <div class="city">ì¸ì²œ / ìƒŒí”„ë€ì‹œìŠ¤ì½”</div>
                    <div class="schedule-item">
                        <div class="time">13:00</div>
                        <div class="details">ì¸ì²œê³µí•­ ì œ2í„°ë¯¸ë„ Cì¹´ìš´í„°ì• ì§‘í•©</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">16:00</div>
                        <div class="details">ì¸ì²œì¶œë°œ, ìƒŒí”„ë€ì‹œìŠ¤ì½”í–‰<div class="transport">ëŒ€í•œí•­ê³µ KE0023</div></div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">10:40</div>
                        <div class="details">ìƒŒí”„ë€ì‹œìŠ¤ì½” ë„ì°©</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">ì¤‘ì‹</div>
                        <div class="details">FILLIES PIZZA (í”¼ì, ìƒëŸ¬ë“œ)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">14:30</div>
                        <div class="details">
                            <p><strong>â— ì‹¤ë¦¬ì½˜  ë°¸ë¦¬ ê¸°ì—… íƒë°©</strong></p>
                            <ul>
                                <li>Google ìº í¼ìŠ¤</li>
                                <li>Apple Visitor ì„¼í„°</li>
                                <li>Tesla Factory Showroom</li>
                            </ul>
                            <div class="transport">ì „ìš©ë²„ìŠ¤</div>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">18:00</div>
                        <div class="details">
                            (ì„ì‹) ì½©ì‚¬ë‘ìˆœë‘ë¶€ (í•œì‹) / ë§ˆíŠ¸(í‘¸ë“œë§¥ìŠ¤)<br>
                            (ìˆ™ì†Œ) Double Tree by Hilton Newark Fremont
                        </div>
                    </div>
                </div>

                <div id="day2" class="schedule-day">
                    <div class="city">ìƒŒí”„ë€ì‹œìŠ¤ì½”</div>
                    <div class="schedule-item">
                        <div class="time">08:00</div>
                        <div class="details">í˜¸í…”ì¡°ì‹í›„ ì¶œë°œ</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">09:00</div>
                        <div class="details">
                            <strong>Stanford University íƒë°©</strong>
                            <ul>
                                <li>ì¡¸ì—…ìƒ ì—°ê³„ 5ê°œ ë¶„ì•¼ë³„ (ë¬¼ë¦¬, í™”í•™, ìƒëª…, ìˆ˜í•™, ì§€êµ¬Â·í™˜ê²½) íŠ¹ê°• ë° ë©˜í† ë§</li>
                                <li>ìº í¼ìŠ¤ íˆ¬ì–´</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">12:30</div>
                        <div class="details">(ì¤‘ì‹) Stanford ì¹´í˜í…Œë¦¬ì•„ (ë®ë°¥)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">13:30</div>
                        <div class="details">
                            <strong>â— UC Berkeley íƒë°©</strong>
                            <ul>
                                <li>ëŒ€í•™ìƒ ì—°ê³„ ê·¸ë£¹ë³„ 5ê°œ ë¶„ì•¼ (ë¬¼ë¦¬, í™”í•™, ìƒëª…, ìˆ˜í•™, ì§€êµ¬Â·í™˜ê²½) íŠ¹ê°• ë° ë©˜í† ë§</li>
                                <li>ìº í¼ìŠ¤ íˆ¬ì–´</li>
                            </ul>
                            <div class="transport">ì „ìš©ë²„ìŠ¤</div>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">16:30</div>
                        <div class="details">ê³¨ë“ ê²Œì´íŠ¸ ë¸Œë¦¬ì§€ ê´€ê´‘</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">18:00</div>
                        <div class="details">
                            (ì„ì‹) ëŒ€í˜¸ê°€ë“  (í•œì‹)<br>
                            (ìˆ™ì†Œ) DoubleTree by Hilton Hotel Newark - Fremont
                        </div>
                    </div>
                </div>

                <div id="day3" class="schedule-day">
                    <div class="city">ìƒŒí”„ë€ì‹œìŠ¤ì½” / ë¼ìŠ¤ë² ê°€ìŠ¤</div>
                    <div class="schedule-item">
                        <div class="time">06:00</div>
                        <div class="details">í˜¸í…”ì¡°ì‹í›„ ì¶œë°œ<div class="transport">ì „ìš©ë²„ìŠ¤</div></div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">15:30</div>
                        <div class="details">ë¼ìŠ¤ë² ê°€ìŠ¤ ë„ì°©</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">16:00</div>
                        <div class="details">(ì¤‘ì‹) ì¡°ì„ ë©´ì˜¥(í•œì‹)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">17:00</div>
                        <div class="details">
                            <ul>
                                <li>ë¼ìŠ¤ë² ê°€ìŠ¤ (ììœ ì‹œê°„ - ê·¸ë£¹ë³„ ììœ¨ê´€ê´‘)</li>
                                <li>The Sphere ì™¸ê´€ ë° ì‡¼í•‘ëª°</li>
                                <li>ë²¨ë¼ì§€ì˜¤ ë¶„ìˆ˜ì‡¼ (19:00~)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">20:30</div>
                        <div class="details">
                            (ì„ì‹) ê³ ë ¤ê´€ (í•œì‹)<br>
                            (ìˆ™ì†Œ) Excalibur Hotel & Casino
                        </div>
                    </div>
                </div>

                <div id="day4" class="schedule-day">
                    <div class="city">ë¼ìŠ¤ë² ê°€ìŠ¤ / ê·¸ëœë“œìºë…„</div>
                    <div class="schedule-item">
                        <div class="time">06:00</div>
                        <div class="details">í˜¸í…”ì¡°ì‹í›„ ì¶œë°œ<div class="transport">ì „ìš©ë²„ìŠ¤</div></div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">10:00</div>
                        <div class="details">Hoover Dam</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">10:30</div>
                        <div class="details">66ë²ˆ êµ­ë„ ê²½ìœ </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">13:30</div>
                        <div class="details">ê·¸ëœë“œìºë…„ ë„ì°©<br>(ì¤‘ì‹) WE COOK PIZZA &PASTA(í˜„ì§€ì‹ í”¼ì, ìƒëŸ¬ë“œ)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">14:00</div>
                        <div class="details">
                            <ul>
                                <li>ê·¸ëœë“œìºë…„ êµ­ë¦½ê³µì›(ì›¨ìŠ¤íŠ¸ë¦¼) íŠ¸ë ˆì¼ íŠ¸ë˜í‚¹</li>
                                <li>Eagle Point & Guano Point</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">16:30</div>
                        <div class="details">ë¼ìŠ¤ë² ê°€ìŠ¤ë¡œ ì´ë™</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">20:00</div>
                        <div class="details">
                            (ì„ì‹) Kim Chi (í•œì‹)<br>
                            (ìˆ™ì†Œ) Excalibur Hotel & Casino
                        </div>
                    </div>
                </div>

                <div id="day5" class="schedule-day">
                    <div class="city">ìº˜ë¦¬ì½” / LA</div>
                    <div class="schedule-item">
                        <div class="time">07:00</div>
                        <div class="details">ìˆ™ì†Œ ì¶œë°œ / (ì¡°ì‹) ê¹€ì¹˜ì‹ë‹¹<div class="transport">ì „ìš©ë²„ìŠ¤</div></div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">08:00</div>
                        <div class="details">ì´ë™</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">08:30</div>
                        <div class="details">ì„¸ë¸ë§¤ì§ë§ˆìš´í‹´ìŠ¤ (ëª¨í•˜ë¹„ êµ­ë¦½ ë³´í˜¸êµ¬ì—­ë‚´)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">10:50</div>
                        <div class="details">ìº˜ë¦¬ì½” ì€ê´‘ì´Œ</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">11:20</div>
                        <div class="details">(ì¤‘ì‹) Calico House Restaurant(í˜„ì§€ì‹)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">14:30</div>
                        <div class="details">The Getty ì„¼í„° (ë¯¸ìˆ ê´€)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">16:00</div>
                        <div class="details">
                            <ul>
                                <li>Hollywood Walk of Fame HQ (í—ë¦¬ìš°ë“œ ëª…ì˜ˆê±°ë¦¬)</li>
                                <li>Griffith Observatory (ê·¸ë¦¬í”¼ìŠ¤ ì²œë¬¸ëŒ€)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">18:30</div>
                        <div class="details">
                            (ì„ì‹) ë¶ì°½ë™ ìˆœë‘ë¶€<br>
                            (ìˆ™ì†Œ) Holiday Inn la Mirada Buena Park
                        </div>
                    </div>
                </div>

                <div id="day6" class="schedule-day">
                    <div class="city">LA</div>
                    <div class="schedule-item">
                        <div class="time">08:30</div>
                        <div class="details">í˜¸í…”ì¡°ì‹í›„ ì¶œë°œ<div class="transport">ì „ìš©ë²„ìŠ¤</div></div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">09:30</div>
                        <div class="details">
                            <ul>
                                <li>ìì—°ì‚¬ ë°•ë¬¼ê´€ (1ì‹œê°„ 10ë¶„ ê´€ëŒ)</li>
                                <li>LA FC ê²½ê¸°ì¥ (30ë¶„ ì‡¼í•‘)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">12:00</div>
                        <div class="details">(ì¤‘ì‹) Caltech ì¹´í˜í…Œë¦¬ì•„ (ì•¼ì™¸ ë®ë°¥)</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">13:00</div>
                        <div class="details">
                            <strong>â— ìº˜ë¦¬í¬ë‹ˆì•„ ê³µëŒ€(CALTECH) íƒë°©</strong>
                            <ul>
                                <li>ëŒ€í•™(ì›)ìƒ ì—°ê³„ ê·¸ë£¹ë³„ íˆ¬ì–´ ë° ê°„ë‹´íšŒ(5ê°œ ê·¸ë£¹)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">14:00</div>
                        <div class="details">
                            <strong>â— ë…¸ë²¨ìƒ ìˆ˜ìƒì íŠ¹ê°•</strong>
                            <ul>
                                <li>í”„ëœì‹œìŠ¤ ì•„ë†€ë“œ êµìˆ˜ (2018ë…„ ë…¸ë²¨ í™”í•™ìƒ ìˆ˜ìƒì, ìº˜ë¦¬í¬ë‹ˆì•„ ê³µëŒ€ ì„ì¢Œêµìˆ˜, ë¡œì  ìƒëª…ê³µí•™ ì„¼í„° ì†Œì¥)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">15:30</div>
                        <div class="details">
                            <strong>USC(University of Southern California) íƒë°©</strong>
                            <ul>
                                <li>ëŒ€í•™(ì›)ìƒ ì—°ê³„ ê·¸ë£¹ë³„ íˆ¬ì–´ ë° ê°„ë‹´íšŒ(5ê°œ ê·¸ë£¹)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">17:00</div>
                        <div class="details">
                            <strong>USC êµìˆ˜ë‹˜(ì…˜í‚´, ì»´í“¨í„°ê³µí•™ êµìˆ˜) íŠ¹ê°•</strong>
                            <ul>
                                <li>ì£¼ì œ: ë¯¸ë˜ì»´í“¨íŒ…ê¸°ìˆ ì— ëŒ€í•œ ì´í•´</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">18:30</div>
                        <div class="details">(ì„ì‹) ì‹ ë¶ê²½ì‹ë‹¹ (ì¤‘êµ­ì‹ ì½”ìŠ¤)</div>
                    </div>
                </div>

                <div id="day7" class="schedule-day">
                    <div class="city">LA</div>
                    <div class="schedule-item">
                        <div class="time">09:00</div>
                        <div class="details">í˜¸í…”ì¡°ì‹í›„ ì¶œë°œ<div class="transport">ì „ìš©ë²„ìŠ¤</div></div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">10:00</div>
                        <div class="details">
                            <strong>ì›”íŠ¸ë””ì¦ˆë‹ˆ ì½˜ì„œíŠ¸í™€ íˆ¬ì–´</strong> (Self Guided Audio Tour)
                            <ul>
                                <li>1í˜¸ì°¨: 10:00~10:30 íˆ¬ì–´, 10:30~11:00 ì°¨ì´ë‚˜íƒ€ìš´</li>
                                <li>2í˜¸ì°¨: 10:00~10:30 ì°¨ì´ë‚˜íƒ€ìš´, 10:30~11:00 íˆ¬ì–´</li>
                            </ul>
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">12:00</div>
                        <div class="details">
                            ìœ ë‹ˆë²„ì…œ ìŠ¤íŠœë””ì˜¤ ë¬¸í™” ì²´í—˜<br>
                            (ì¤‘ì‹) ììœ ì‹
                        </div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">17:50</div>
                        <div class="details">ì¶œêµ¬ì—ì„œ ì§‘í•©</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">18:40</div>
                        <div class="details">(ì„ì‹) ì²­ë‹´ì‹ë‹¹(í•œì‹ ê³ ê¸°ë¶€í˜)</div>
                    </div>
                </div>

                <div id="day8_9" class="schedule-day">
                    <div class="city">**8ì¼ì°¨: LA / ì¶œë°œ**</div>
                    <div class="schedule-item">
                        <div class="time">ì˜¤ì „</div>
                        <div class="details">í˜¸í…”ì¡°ì‹í›„ ë¡œìŠ¤ì—”ì ¤ë ˆìŠ¤ êµ­ì œê³µí•­ìœ¼ë¡œ ì´ë™</div>
                    </div>
                    <div class="schedule-item">
                        <div class="time">11:50</div>
                        <div class="details">ë¡œìŠ¤ì—”ì ¤ë ˆìŠ¤ ì¶œë°œ<div class="transport">ëŒ€í•œí•­ê³µ KE 0018</div></div>
                    </div>
                    
                    <hr style="margin: 15px 0;">

                    <div class="city">**9ì¼ì°¨: ì¸ì²œ ë„ì°©**</div>
                    <div class="schedule-item">
                        <div class="time">17:40</div>
                        <div class="details">ì¸ì²œê³µí•­ ë„ì°©</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer id="main-footer">
    <strong>made by BAE</strong>
</footer>
    
<script>
    // ============ ê³µí†µ ìƒíƒœ ê´€ë¦¬ ============
    const STATE_KEY = 'iasa_app_state';
    
    function saveState() {
        const state = {
            mainTab: currentMainTab,
            classNum: currentClass,
            attendanceState: Array.from(confirmedStudents),
            scheduleDay: currentScheduleDay,
            cardSize: cardSize,
            fontSize: fontSize
        };
        localStorage.setItem(STATE_KEY, JSON.stringify(state));
    }

    function loadState() {
        const saved = localStorage.getItem(STATE_KEY);
        if (saved) {
            try {
                return JSON.parse(saved);
            } catch (e) {
                return null;
            }
        }
        return null;
    }

    // ============ ë©”ì¸ íƒ­ ì „í™˜ ============
    let currentMainTab = 'attendance';

    function switchMainTab(tabName) {
        // íƒ­ ë²„íŠ¼ í™œì„±í™”
        document.querySelectorAll('.main-tab-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.currentTarget.classList.add('active');

        // íƒ­ ì»¨í…ì¸  í‘œì‹œ
        document.querySelectorAll('.main-tab-content').forEach(content => {
            content.classList.remove('active');
        });
        document.getElementById(tabName).classList.add('active');

        currentMainTab = tabName;
        saveState();
    }

    // ============ ì¶œì„ì²´í¬ ë¡œì§ ============
    const studentsData = {
  1: [
    { name: "ê¶Œë‹´ì€", gender: "female" },
    { name: "ê¹€ë³´ë¯¼", gender: "female" },
    { name: "ì •ì„œì—°", gender: "female" },
    { name: "ê¶Œìš°ì§„", gender: "male" },
    { name: "ê¹€ê°•ìœ¤", gender: "male" },
    { name: "ë§ˆì§„ìš±", gender: "male" },
    { name: "ë°•ë¯¼ì¤€", gender: "male" },
    { name: "ë°•ìƒìœ¤", gender: "male" },
    { name: "ì„œìš°ì§„", gender: "male" },
    { name: "ì´ì§€ìƒ", gender: "male" },
    { name: "ì´í˜„ì¡´", gender: "male" },
    { name: "ì¥ì—°ì¬", gender: "male" },
    { name: "ì •ì§€í›„", gender: "male" },
    { name: "ìµœì¤€ìš°", gender: "male" },
    { name: "í™ê·¼ìš°", gender: "male" },
    { name: "í™ì¬ë¯¼", gender: "male" }
  ],
  2: [
    { name: "ê°•íš¨ë¦°", gender: "female" },
    { name: "ìœ¤ì§€í›„", gender: "female" },
    { name: "ì´ì˜ì„œ", gender: "female" },
    { name: "í™ìœ ì§„", gender: "female" },
    { name: "ê°•ì€ì°¬", gender: "male" },
    { name: "ë°•ì§„ìš°", gender: "male" },
    { name: "ë°•í•œì„ ", gender: "male" },
    { name: "ì†¡ì˜ˆì¤€", gender: "male" },
    { name: "ì†¡ì§€í™˜", gender: "male" },
    { name: "ì´ê²½ë¡", gender: "male" },
    { name: "ì´ë‹¤í˜„", gender: "male" },
    { name: "ì´ì›ì¤€", gender: "male" },
    { name: "ì„ì§€í›„", gender: "male" },
    { name: "ì¡°ì˜ì¤€", gender: "male" },
    { name: "í™ë¯¼ê·œ", gender: "male" },
    { name: "í™©ì„ ìš°", gender: "male" }
  ],
  3: [
    { name: "ê¹€í•˜ê²½", gender: "female" },
    { name: "ì†¡ìœ¤ì„œ", gender: "female" },
    { name: "í™ì§€ë¯¼", gender: "female" },
    { name: "ê¹€ì£¼í—Œ", gender: "male" },
    { name: "ê¹€ì§„ì›", gender: "male" },
    { name: "ë°•ì„¸í˜„", gender: "male" },
    { name: "ë°•íš¨ì„±", gender: "male" },
    { name: "ë°°ë³‘ì°¬", gender: "male" },
    { name: "ì†¡ë¯¼ê±´", gender: "male" },
    { name: "ì—„ì¬í˜„", gender: "male" },
    { name: "ìœ¤ê±´ìš°", gender: "male" },
    { name: "ì´í˜„íƒ", gender: "male" },
    { name: "ì¥ë„ì—°", gender: "male" },
    { name: "ì¥ì›ì¤€", gender: "male" },
    { name: "ì •ê·œì›", gender: "male" }
  ],
  4: [
    { name: "ë‚¨ì„¸ë ¹", gender: "female" },
    { name: "ë°±ìŠ¹í•´", gender: "female" },
    { name: "ì‹ ì±„ë¯¼", gender: "female" },
    { name: "ê°•ë¯¼ì„œ", gender: "male" },
    { name: "ê¹€ë¯¼í˜", gender: "male" },
    { name: "ë¯¼ì¤€ìš°", gender: "male" },
    { name: "ë°•ì˜ˆì„±", gender: "male" },
    { name: "ë°•ì¤€ëª¨", gender: "male" },
    { name: "ë³€ìš°ì„", gender: "male" },
    { name: "ì†ì •í›ˆ", gender: "male" },
    { name: "ì‹ ì¬ì›", gender: "male" },
    { name: "ì–‘ë³‘í›„", gender: "male" },
    { name: "ì´ì œí•˜", gender: "male" },
    { name: "ì´ì¶©í˜„", gender: "male" },
    { name: "ì¡°ì¸ì„±", gender: "male" },
    { name: "ìµœì¤€ì˜", gender: "male" }
  ],
  5: [
    { name: "ê¹€ì˜ˆì›", gender: "female" },
    { name: "ì´ë‚˜ìœ¤", gender: "female" },
    { name: "ì´ì„¸ì•„", gender: "female" },
    { name: "ê¶Œë„ìœ¤", gender: "male" },
    { name: "ê¶Œìš©ìš°", gender: "male" },
    { name: "ê¸¸ë¯¼êµ", gender: "male" },
    { name: "ê¹€ê±´", gender: "male" },
    { name: "ê¹€ê±´í˜¸", gender: "male" },
    { name: "ê¹€ì¬ì›", gender: "male" },
    { name: "ê¹€ì •í›ˆ", gender: "male" },
    { name: "ë°•ì¤€í˜¸", gender: "male" },
    { name: "ì‹¬ë™í•˜", gender: "male" },
    { name: "ìœ¤ë™í˜„", gender: "male" },
    { name: "ì´ìˆ˜í˜", gender: "male" },
    { name: "ì´ìš©ì¤€", gender: "male" },
    { name: "ì¡°ì‹ ìš°", gender: "male" }
  ]
};

    let currentClass = 1;
    let selectedClass = 1;
    let cardSize = 60;
    let fontSize = 15;
    let students = [];
    let confirmedStudents = new Set();

    function loadStudents() {
        students = studentsData[currentClass] || [];
        renderStudents();
    }

    function renderStudents() {
        const unconfirmedContainer = document.getElementById('unconfirmed-container');
        const confirmedContainer = document.getElementById('confirmed-container');
        
        unconfirmedContainer.innerHTML = '';
        confirmedContainer.innerHTML = '';

        const sortedStudents = [...students].sort((a, b) => {
            if (a.gender !== b.gender) {
                return a.gender === 'female' ? -1 : 1;
            }
            return a.name.localeCompare(b.name, 'ko');
        });

        sortedStudents.forEach((student) => {
            const originalIndex = students.findIndex(s => s.name === student.name && s.gender === student.gender);
            const card = createStudentCard(student, originalIndex);
            if (confirmedStudents.has(originalIndex)) {
                confirmedContainer.appendChild(card);
            } else {
                unconfirmedContainer.appendChild(card);
            }
        });

        updateCounts();
    }

    function createStudentCard(student, index) {
        const card = document.createElement('div');
        card.className = `student-card ${student.gender}`;
        card.textContent = student.name;
        card.onclick = () => toggleStudent(index);
        return card;
    }

    function toggleStudent(index) {
        if (confirmedStudents.has(index)) {
            confirmedStudents.delete(index);
        } else {
            confirmedStudents.add(index);
        }
        renderStudents();
        saveState();
    }

    function resetAttendance() {
        confirmedStudents.clear();
        renderStudents();
        saveState();
    }

    function updateCounts() {
        const total = students.length;
        const confirmed = confirmedStudents.size;
        const unconfirmed = total - confirmed;

        document.getElementById('confirmed-count-display').textContent = confirmed;
        document.getElementById('unconfirmed-count').textContent = unconfirmed;

        if (unconfirmed === 0 && total > 0) {
            showCelebration();
        }
    }

    function showCelebration() {
        const celebration = document.getElementById('celebration');
        celebration.classList.add('active');
        createFireworks();
        setTimeout(() => {
            closeCelebration();
        }, 3000);
    }

    function closeCelebration() {
        const celebration = document.getElementById('celebration');
        celebration.classList.remove('active');
        document.querySelectorAll('.confetti, .firework').forEach(el => el.remove());
    }

    function createFireworks() {
        const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ffd700'];
        
        for (let i = 0; i < 50; i++) {
            setTimeout(() => {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
            }, i * 20);
        }

        const fireworkEmojis = ['ğŸ†', 'ğŸ‡', 'âœ¨', 'ğŸ’«', 'â­'];
        for (let i = 0; i < 15; i++) {
            setTimeout(() => {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.textContent = fireworkEmojis[Math.floor(Math.random() * fireworkEmojis.length)];
                firework.style.left = (20 + Math.random() * 60) + '%';
                firework.style.top = (20 + Math.random() * 60) + '%';
                document.getElementById('celebration').appendChild(firework);
                setTimeout(() => firework.remove(), 1000);
            }, i * 100);
        }
    }

    function increaseCardSize() {
        if (cardSize < 100) {
            cardSize += 10;
            fontSize += 2;
            document.documentElement.style.setProperty('--card-size', cardSize + 'px');
            document.documentElement.style.setProperty('--font-size', fontSize + 'px');
            saveState();
        }
    }

    function decreaseCardSize() {
        if (cardSize > 40) {
            cardSize -= 10;
            if (fontSize > 15) {
                fontSize -= 2;
            }
            document.documentElement.style.setProperty('--card-size', cardSize + 'px');
            document.documentElement.style.setProperty('--font-size', fontSize + 'px');
            saveState();
        }
    }

    function openSettings() {
        selectedClass = currentClass;
        document.getElementById('settings-modal').classList.add('active');
        updateClassSelection();
    }

    function closeSettings() {
        document.getElementById('settings-modal').classList.remove('active');
    }

    function selectAndApplyClass(classNum) {
        currentClass = classNum;
        selectedClass = classNum;
        confirmedStudents.clear(); // ë°˜ ë³€ê²½ì‹œ ì¶œì„ ìƒíƒœ ì´ˆê¸°í™”
        document.getElementById('current-class-display').textContent = currentClass;
        loadStudents();
        updateClassSelection();
        saveState();
        setTimeout(() => {
            closeSettings();
        }, 300);
    }

    function updateClassSelection() {
        const options = document.querySelectorAll('.class-option');
        options.forEach((option, index) => {
            if (index + 1 === selectedClass) {
                option.classList.add('selected');
            } else {
                option.classList.remove('selected');
            }
        });
    }

    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
    document.getElementById('settings-modal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeSettings();
        }
    });

    // ============ ì¼ì •í‘œ ë¡œì§ ============
    let currentScheduleDay = 'day1';

    function openDay(evt, dayId) {
        var i, tabcontent, tablinks;

        tabcontent = document.getElementsByClassName("schedule-day");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        tablinks = document.getElementsByClassName("tab-button");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }

        document.getElementById(dayId).style.display = "block";
        evt.currentTarget.className += " active";
        
        currentScheduleDay = dayId;
        saveState();
    }

    // ============ ì´ˆê¸°í™” ============
    document.addEventListener("DOMContentLoaded", function() {
        const savedState = loadState();
        
        if (savedState) {
            // ë©”ì¸ íƒ­ ë³µì›
            currentMainTab = savedState.mainTab || 'attendance';
            document.querySelectorAll('.main-tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.main-tab-content').forEach(content => content.classList.remove('active'));
            
            if (currentMainTab === 'attendance') {
                document.querySelector('.main-tab-btn:first-child').classList.add('active');
                document.getElementById('attendance').classList.add('active');
            } else {
                document.querySelector('.main-tab-btn:last-child').classList.add('active');
                document.getElementById('schedule').classList.add('active');
            }

            // ì¶œì„ì²´í¬ ìƒíƒœ ë³µì›
            currentClass = savedState.classNum || 1;
            cardSize = savedState.cardSize || 60;
            fontSize = savedState.fontSize || 15;
            
            document.documentElement.style.setProperty('--card-size', cardSize + 'px');
            document.documentElement.style.setProperty('--font-size', fontSize + 'px');
            document.getElementById('current-class-display').textContent = currentClass;
            
            if (savedState.attendanceState) {
                confirmedStudents = new Set(savedState.attendanceState);
            }
            
            loadStudents();

            // ì¼ì •í‘œ ìƒíƒœ ë³µì›
            currentScheduleDay = savedState.scheduleDay || 'day1';
            const targetContent = document.getElementById(currentScheduleDay);
            if (targetContent) {
                targetContent.style.display = "block";
            }
            
            const targetButton = document.querySelector(`.tab-button[data-day-id="${currentScheduleDay}"]`);
            if (targetButton) {
                targetButton.className += " active";
                targetButton.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            }
        } else {
            // ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
            document.documentElement.style.setProperty('--card-size', cardSize + 'px');
            document.documentElement.style.setProperty('--font-size', fontSize + 'px');
            document.getElementById('current-class-display').textContent = currentClass;
            loadStudents();
            
            // ì¼ì •í‘œ ê¸°ë³¸ê°’
            const defaultDay = document.getElementById('day1');
            if (defaultDay) {
                defaultDay.style.display = "block";
            }
            const defaultButton = document.querySelector(".tab-button[data-day-id='day1']");
            if (defaultButton) {
                defaultButton.classList.add('active');
            }
        }
    });

    // ============ PWA Service Worker ë“±ë¡ ============
    if ('serviceWorker' in navigator) {
        // Manifest ìƒì„± (Blob URL ì‚¬ìš©)
        const manifestData = {
            name: "IASA 10ê¸° ì¶œì²µ & ì¼ì •",
            short_name: "IASA ì¶œì²µ",
            description: "IASA 10ê¸° ì¶œì„ì²´í¬ ë° í•´ì™¸íƒë°© ì¼ì •í‘œ",
            start_url: window.location.pathname,
            display: "standalone",
            background_color: "#f5f7fa",
            theme_color: "#4A90E2",
            icons: [
                {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJ0lEQVR4nO3XQQ0AIAwEsf8+tNFI0SJoQnDN7JzZB4LeCBBTACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhD5AF+1AzbLu3kPAAAAAElFTkSuQmCC",
                    sizes: "192x192",
                    type: "image/png",
                    purpose: "any maskable"
                },
                {
                    src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJ0lEQVR4nO3XQQ0AIAwEsf8+tNFI0SJoQnDN7JzZB4LeCBBTACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhBRACIKQEQBiCgAEQUgogBEFICIAhD5AF+1AzbLu3kPAAAAAElFTkSuQmCC",
                    sizes: "512x512",
                    type: "image/png",
                    purpose: "any maskable"
                }
            ]
        };

        const manifestBlob = new Blob([JSON.stringify(manifestData)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        document.getElementById('manifest-placeholder').setAttribute('href', manifestURL);

        // Service Worker ì½”ë“œ (ë¬¸ìì—´ë¡œ ì •ì˜)
        const serviceWorkerCode = `
            const CACHE_NAME = 'iasa-attendance-v1';
            const urlsToCache = [
                '${window.location.pathname}'
            ];

            // Service Worker ì„¤ì¹˜
            self.addEventListener('install', (event) => {
                console.log('[Service Worker] ì„¤ì¹˜ ì¤‘...');
                event.waitUntil(
                    caches.open(CACHE_NAME)
                        .then((cache) => {
                            console.log('[Service Worker] ìºì‹œ ì—´ê¸°');
                            return cache.addAll(urlsToCache);
                        })
                        .then(() => self.skipWaiting())
                );
            });

            // Service Worker í™œì„±í™”
            self.addEventListener('activate', (event) => {
                console.log('[Service Worker] í™œì„±í™”');
                event.waitUntil(
                    caches.keys().then((cacheNames) => {
                        return Promise.all(
                            cacheNames.map((cacheName) => {
                                if (cacheName !== CACHE_NAME) {
                                    console.log('[Service Worker] ì˜¤ë˜ëœ ìºì‹œ ì‚­ì œ:', cacheName);
                                    return caches.delete(cacheName);
                                }
                            })
                        );
                    }).then(() => self.clients.claim())
                );
            });

            // Fetch ì´ë²¤íŠ¸ ì²˜ë¦¬ (ì˜¤í”„ë¼ì¸ ì§€ì›)
            self.addEventListener('fetch', (event) => {
                event.respondWith(
                    caches.match(event.request)
                        .then((response) => {
                            // ìºì‹œì— ìˆìœ¼ë©´ ìºì‹œ ë°˜í™˜, ì—†ìœ¼ë©´ ë„¤íŠ¸ì›Œí¬ ìš”ì²­
                            if (response) {
                                return response;
                            }
                            return fetch(event.request).then((response) => {
                                // ìœ íš¨í•œ ì‘ë‹µì¸ì§€ í™•ì¸
                                if (!response || response.status !== 200 || response.type !== 'basic') {
                                    return response;
                                }
                                // ì‘ë‹µì„ ìºì‹œì— ì €ì¥
                                const responseToCache = response.clone();
                                caches.open(CACHE_NAME).then((cache) => {
                                    cache.put(event.request, responseToCache);
                                });
                                return response;
                            });
                        })
                        .catch(() => {
                            // ì˜¤í”„ë¼ì¸ ìƒíƒœì—ì„œ ìºì‹œë„ ì—†ì„ ë•Œ
                            console.log('[Service Worker] ì˜¤í”„ë¼ì¸ - ìºì‹œëœ ë¦¬ì†ŒìŠ¤ ì—†ìŒ');
                        })
                );
            });
        `;

        // Service Workerë¥¼ Blobìœ¼ë¡œ ìƒì„±
        const swBlob = new Blob([serviceWorkerCode], { type: 'application/javascript' });
        const swURL = URL.createObjectURL(swBlob);

        // Service Worker ë“±ë¡
        navigator.serviceWorker.register(swURL)
            .then((registration) => {
                console.log('âœ… Service Worker ë“±ë¡ ì„±ê³µ:', registration.scope);
                console.log('ğŸ“± ì´ì œ ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                
                // ì—…ë°ì´íŠ¸ í™•ì¸
                registration.addEventListener('updatefound', () => {
                    const newWorker = registration.installing;
                    newWorker.addEventListener('statechange', () => {
                        if (newWorker.state === 'activated') {
                            console.log('ğŸ”„ Service Worker ì—…ë°ì´íŠ¸ë¨');
                        }
                    });
                });
            })
            .catch((error) => {
                console.log('âŒ Service Worker ë“±ë¡ ì‹¤íŒ¨:', error);
            });

        // ì„¤ì¹˜ ì•ˆë‚´ (iOS Safariìš©)
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            console.log('ğŸ’¡ í™ˆ í™”ë©´ì— ì¶”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤!');
        });
    }
</script>

</body>
</html>
